# paper_abstract
-----------
* 国内外关于本选题的研究现状、水平和发展趋势，选题研究的目的和意义 等:

【研究意义】
随着物联网和工业互联网的快速发展，无论是智能手机还是嵌入式设备，绝大多数软件都是以二进制代码形式发布。在厂家的源代码无法获取或获取不便这一事实下，二进制代码分析成为工业界和学术界研究其安全问题的最佳实践。而在二进制代码分析中，代码相似度比较技术是重要的技术手段之一，因为其可以实现对恶意代码极其变种的追踪、已知漏洞检测、补丁存在性检测。
我们知道编译生成二进制代码的影响因素非常的多，同一套源代码基于不同因素的组合可以生成非常多不同二进制程序：
CPU架构：X86、ARM、MIPS、PPC、RISC-V；
架构位数：32bits、64bits；
OS：Linux、Windows、Android、鸿蒙、VxWork；
编译选项：O0~O3；
安全编译选项：BIND_NOW、NX、PIC、PIE、RELRO、SP、FS、Ftrapv等；
按这些选项可以有5x2x5x4x8 =1600个组合，从中可以看出二进制代码相似度比较技术不管对学术界还是工业界来说，都是一个挑战技术。但是基于广阔的应用前景，20多年来学术界一直在不停的探索和研究新的方法想来解决这个技术挑战，并且也取得了一定的成果。下面就该方面的技术进行一些梳理，让大家对二进制代码相似度比较技术有一个大致的了解。


【研究现状】
从历史发表的二进制代码相似度比较技术论文统计来看，有61种二进制代码相似性比较方法，这些在不同研究场所发表的论文主要发表在IEEE S&P、ACM CCS、USENIX Security、NDSS、ACSAC、RAID、ESORICS、ASIACCS、DIMVA、ICSE、FSE、ISSTA、ASE、MSR等顶级刊物上，得到如下统计数据：
* 输入比较：一对一（21种）、一对多（30种）、多对多（10种）；
* 比较方法：大多数方法使用单一类型的比较：相似性（42种）、等效性（5种）和相同（2种）；即使方法中仅使用一种类型的比较，它也可能有不同的输入比较不同；
* 分析粒度：分为输入粒度、方法粒度；有8中不同的比较粒度，分别是指令级、基本快、函数以及相关集合、执行轨迹、程序。最常见的输入粒度是函数（26个），然后是整个程序（25个）和相关的基本块（4）。最常见的方法粒度是函数（30个），然后是基本块（20）；
* 语法相似性：通过语法方法来捕获代码表示的相似性，更具体地说，它们比较指令序列。最常见的是序列中的指令在虚拟地址空间中是连续的，属于同一函数。
* 语义相似性：语义相似性是指所比较的代码是否具有类似的效果，而语法相似性则是指代码表示中的相似性。其中有26种计算语义相似度的方法。它们中的大多数以基本块粒度捕获语义，因为基本块是没有控制流的直线代码。有三种方法用于捕获语义:指令分类、输入-输出对和符号公式。
* 结构相似度：结构相似性计算二进制代码的图表示上的相似性。它位于句法和语义相似性之间，因为图可以捕获同一代码的多个句法表示，并可以用语义信息注释。结构相似性可以在不同的图上计算。常见的有控制流图CFG、过程间控制流图ICFG、调用图CG；（子）图同构—大多数结构相似性方法是检查图同构的变化，其中涉及到方法有K子图匹配、路径相似性、图嵌入。
* 基于特征的相似度：计算相似性的常见方法（28种）是将一段二进制代码表示为向量或一组特征，使得类似的二进制代码具有相似的特征向量或特征集。这里应用最多的是利用机器学习来实现。
* Hash匹配相似度：对于多维向量数据相似度快速匹配，通常使用局部敏感hash算法LSH来实现。
* 跨架构比较方法：对不同CPU架构二进制代码的相似度比较，通常跨体系结构方法通过计算语义相似性来实现。方法之一是通过转换成与架构无关的中间语言IR来处理（7种），另外一种是使用基于特征的相似性方法（9种）。
* 分析类型：从分析类型来看有：静态分析、动态分析、数据流分析3种类型；
* 归一化方法：语法相似性方法通常会对指令进行规范化，来尽量减少语法上的差异；有33种方法使用指令规范化。具体的包括操作数移除法、操作数归一化法、助记符归一化法。

目前的研究成果解决了其中的一些问题，但仍存在一定的不足：
* 在汇编代码获取方面，
目前的二进制程序基地址获取方法仍不完善，限制了二进制文件反汇编的正确率，而Zhu 等人的方法只能用于检测 ARM 架构的二进制程序，无法处理 MIPS 架构程序。
在相似性分析的鲁棒性和效率方面，
FirmUp 需要进行繁琐的中间语言转换和复杂的程序切片，分析效率较低，难以用于大规模程序安全性检查；
discovRE 虽然加入了过滤器，将明显不相似的一部分函数进行了过滤，一定程度上提高了分析的效率，但函数之间的相似性比较仍依赖于昂贵的图匹配算法，计算复杂度仍然较高；
Gemini 通过图嵌入的方式实现了效率较高的函数控制流图比较，但 Gemini 使用的基本块仍是手动选择的标记或描述性统计特征，没有考虑特征对于函数区分的重要性以及特征之间的相互关系；
InnerEye 使用神经机器翻译的方法自动化提取基本块的语义信息，较好地解决了跨指令集基本块语义比较的问题，但没能更好地进行更大粒度的相似性分析；
Asm2Vec 和 DeepBinDiff 很好地消除了不同编译器和代码混淆对代码相似性分析的影响，在相同架构二进制代码相似性比较中取得了很好的效果，但研究的对象是相同指令集下的二进制程序，没有试图解决跨架构问题。
* 在确保相似性分析的灵活性方面，
现有方法大都是以二进制函数或可执行文件为研究对象，解决的都是函数与函数的相似性比较、可执行文件和可执行文件的相似性比较，而没有对其他比较形式展开研究。

-----------
* 选题研究的计划进度及可行性论述等:

【计划进度】
1月至中旬 收集资料
3月前 进行论文设计
3月 完成初稿
4月至上旬至中旬 修改初稿
4月下旬 修改二稿
5月上旬 修盖三稿
5月中旬 毕业论文定稿，准备答辩
6月 论文答辩

【可行性论述】
（1）在前文所述的不同研究角度中，
（2）有指导老师与师兄在理论研究、组织文章逻辑等方面指导；
（3）该方案数据图的思路是未曾被研究过的；
（4）逆向分析尽管话题不新，资源库中能查询到大量相关文献，但是技术难度大，需要从低级语义分析变更到高级语义或语用的分析上来，需要能够处理进化性、可解释性带来的问题挑战，并伴随着闭源和安全对抗的需要，会持续活跃下去；

落实措施：
（1）结合中国知网、万方、维普等学术型专业网站，查阅，收集相关资料，对论文题目和范围有总体把握；
（2）尽早对所用到的操作工具进行实践；

-----------
* 毕业论文（设计）撰写提纲:

第一部分:引言(主要介绍写作的背景、意义) ;  
第二部分:研究现状 ;  
第三部分:存在的问题及其后果 ;  
第四部分:原因分析(问题的产生原因) ;  
第五部分:解决思路 ;
  处理过程分为预处理部分、嵌入生成部分和代码相似度计算部分。
  预处理部分负责生成二进制程序的进程间数据流图和基本块特征向量，借助 IDA Pro 来提取基本块信息。
  嵌入生成部分负责生成基本块嵌入。该部分首先将两个合并为一个图，然后使用文本相关的深度游走算法（Text-associated DeepWalk，TADW）生成基本块嵌入向量，并通过使用交替最小二乘法进行多次优化。
  代码相似度计算部分，利用 k-hop 贪婪匹配算法，根据已经匹配的基本块的 k-hop 邻居嵌入向量的相似度寻找匹配基本块。  
第六部分:解决过程 ;
第七部分:总结与展望 ;

-----------
* 参考文献:

二进制代码相似性分析关键问题研究 朱晓东
二进制代码相似性搜索研究进展 夏冰,庞建民,周鑫,单征
Duan Y, Li X, Wang J, et al. DeepBinDiff: Learning Program-Wide Code Representations for Binary Diffing [C]. In Proceedings of the Network and Distributed Security Symposium (NDSS). 2020.
